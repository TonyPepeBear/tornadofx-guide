
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>4. Basic Controls · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="5. Data Controls.html" />
    
    
    <link rel="prev" href="3. Components.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="0. Subsection.html">
            
                <a href="0. Subsection.html">
            
                    
                    第一部分: TornadoFX 基本介紹
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="1. Why TornadoFX.html">
            
                <a href="1. Why TornadoFX.html">
            
                    
                    1. 為什麼選擇 TornadoFX?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="2. Setting Up.html">
            
                <a href="2. Setting Up.html">
            
                    
                    2. 配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="3. Components.html">
            
                <a href="3. Components.html">
            
                    
                    3. 組件
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.4" data-path="4. Basic Controls.html">
            
                <a href="4. Basic Controls.html">
            
                    
                    4. Basic Controls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="5. Data Controls.html">
            
                <a href="5. Data Controls.html">
            
                    
                    5. Data Controls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="6. CSS.html">
            
                <a href="6. CSS.html">
            
                    
                    6. Type Safe CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="7. Layouts and Menus.html">
            
                <a href="7. Layouts and Menus.html">
            
                    
                    7. Layouts and Menus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="8. Charts.html">
            
                <a href="8. Charts.html">
            
                    
                    8. Charts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="9. Shapes and Animation.html">
            
                <a href="9. Shapes and Animation.html">
            
                    
                    9. Shapes and Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="10. FXML.html">
            
                <a href="10. FXML.html">
            
                    
                    10. FXML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="11. Editing Models and Validation.html">
            
                <a href="11. Editing Models and Validation.html">
            
                    
                    11. Editing Models and Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="12. TornadoFX IDEA Plugin.html">
            
                <a href="12. TornadoFX IDEA Plugin.html">
            
                    
                    12. TornadoFX IDEA Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../part2/0. Subsection.html">
            
                <a href="../part2/0. Subsection.html">
            
                    
                    Part 2: TornadoFX Advanced Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../part2/Property Delegates.html">
            
                <a href="../part2/Property Delegates.html">
            
                    
                    Property Delegates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../part2/Advanced Data Controls.html">
            
                <a href="../part2/Advanced Data Controls.html">
            
                    
                    Advanced Data Controls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../part2/OSGi.html">
            
                <a href="../part2/OSGi.html">
            
                    
                    OSGi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../part2/Scopes.html">
            
                <a href="../part2/Scopes.html">
            
                    
                    Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../part2/EventBus.html">
            
                <a href="../part2/EventBus.html">
            
                    
                    EventBus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../part2/Workspaces.html">
            
                <a href="../part2/Workspaces.html">
            
                    
                    Workspaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../part2/Layout Debugger.html">
            
                <a href="../part2/Layout Debugger.html">
            
                    
                    Layout Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../part2/Internationalization.html">
            
                <a href="../part2/Internationalization.html">
            
                    
                    Internationalization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../part2/Config Settings and State.html">
            
                <a href="../part2/Config Settings and State.html">
            
                    
                    Config Settings and State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../part2/JSON and REST.html">
            
                <a href="../part2/JSON and REST.html">
            
                    
                    JSON and REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../part2/Dependency Injection.html">
            
                <a href="../part2/Dependency Injection.html">
            
                    
                    Dependency Injection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../part2/Wizard.html">
            
                <a href="../part2/Wizard.html">
            
                    
                    Wizard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../part2/Integration.html">
            
                <a href="../part2/Integration.html">
            
                    
                    Integrating with other tech
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../part3/0. Subsection.html">
            
                <a href="../part3/0. Subsection.html">
            
                    
                    Part 3: Cook Book
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../part3/Snippets.html">
            
                <a href="../part3/Snippets.html">
            
                    
                    Snippets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >4. Basic Controls</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="basic-controls">Basic Controls</h1>
<p>One of the most exciting features of TornadoFX are the Type-Safe Builders. Configuring and laying out controls for complex UI&apos;s can be verbose and difficult, and the code can quickly become messy to maintain. Fortunately, you can use a <a href="https://kotlinlang.org/docs/reference/type-safe-builders.html" target="_blank">powerful closure pattern</a> pioneered by Groovy to create structured UI layouts with pure and simple Kotlin code.</p>
<p>While we will learn how to apply FXML later in Chapter 10, you may find builders to be an expressive, robust way to create complex UI&apos;s in a fraction of the time. There are no configuration files or compiler magic tricks, and builders are done with pure Kotlin code. The next several chapters will divide the builders into separate categories of controls. Along the way, you will gradually build more complex UI&apos;s by integrating these builders together.</p>
<p>But first, let&apos;s cover how builders actually work.</p>
<h2 id="how-builders-work">How Builders Work</h2>
<p>Kotlin&apos;s standard library comes with a handful of helpful &quot;block&quot; functions to target items of any type <code>T</code>. There is the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html" target="_blank">with() function</a>, which allows you to write code against a control as if you were right inside of its class.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.control.Button
<span class="hljs-keyword">import</span> javafx.scene.layout.VBox
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = VBox()

    init {
        with(root) {
            this += Button(<span class="hljs-string">&quot;Press Me&quot;</span>)
        }
    }
}
</code></pre>
<p>In the above example, the <code>with()</code> function accepts the <code>root</code> as an argument. The  following closure argument manipulates <code>root</code> directly by referring to it as <code>this</code>, which is safely interpreted as a <code>VBox</code>. A <code>Button</code> was added to the <code>VBox</code> by calling its <code>plusAssign()</code> extended operator.</p>
<p>Alternatively, every type in Kotlin has an <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html" target="_blank">apply() function</a>. This is almost the same functionality as <code>with()</code> but it is presented as an extended higher-order function.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.control.Button
<span class="hljs-keyword">import</span> javafx.scene.layout.VBox
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = VBox()

    init {
        root.apply {
            this += Button(<span class="hljs-string">&quot;Press Me&quot;</span>)
        }
    }
}
</code></pre>
<p>Both <code>with()</code> and <code>apply()</code> accomplish a similar task. They safely interpret the type they are targeting and allow manipulations to be done to it. However, <code>apply()</code> returns the item it was targeting. Therefore, if you call <code>apply()</code> on a <code>Button</code> to manipulate, say, its font color and action, it is helpful the <code>Button</code> returns itself so as to not break the declaration and assignment flow.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.control.Button
<span class="hljs-keyword">import</span> javafx.scene.layout.VBox
<span class="hljs-keyword">import</span> javafx.scene.paint.Color
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = VBox()

    init {
        with(root) {
            this += Button(<span class="hljs-string">&quot;Press Me&quot;</span>).apply {
                textFill = Color.RED
                action { println(<span class="hljs-string">&quot;Button pressed!&quot;</span>) }
            }
        }
    }
}
</code></pre>
<p>The basic concepts of how builders work are expressed above, and there are three tasks being done:</p>
<ol>
<li>A <code>Button</code> is created</li>
<li>The <code>Button</code> is modified</li>
<li>The <code>Button</code> is added to its &quot;parent&quot;, which is a <code>VBox</code></li>
</ol>
<p>When declaring any <code>Node</code>, these three steps are so common that TornadoFX streamlines them for you using strategically placed extension functions, such as <code>button()</code> as shown below.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.layout.VBox
<span class="hljs-keyword">import</span> javafx.scene.paint.Color
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = VBox()

    init {
        with(root) {
            button(<span class="hljs-string">&quot;Press Me&quot;</span>) {
                textFill = Color.RED
                action { println(<span class="hljs-string">&quot;Button pressed!&quot;</span>) }
            }
        }
    }
}
</code></pre>
<p>While this looks much cleaner, you might be wondering: &quot;How did we just get rid of the <code>this +=</code> and <code>apply()</code> function call? And why are we using a function called <code>button()</code> instead of an actual <code>Button</code>?&quot;</p>
<p>We will not go too deep on how this is done, and you can always dig into the <a href="https://github.com/edvin/tornadofx/blob/master/src/main/java/tornadofx/Controls.kt#L309-L314" target="_blank">source code</a> if you are curious. But essentially, the <code>VBox</code> (or any targetable component) has an extension function called <code>button()</code>. It accepts a text argument and an optional closure targeting a <code>Button</code> it will instantiate.</p>
<p>When this function is called, it will create a <code>Button</code> with the specified text, apply the closure to it, add it to the <code>VBox</code> it was called on, and then return it.</p>
<p>Taking this efficiency further, you can override the <code>root</code> in a <code>View</code>, but assign it a builder function and avoid needing any <code>init</code> or <code>with()</code> blocks.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.paint.Color
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = vbox {
        button(<span class="hljs-string">&quot;Press Me&quot;</span>) {
            textFill = Color.RED
            action { println(<span class="hljs-string">&quot;Button pressed!&quot;</span>) }
        }
    }
}
</code></pre>
<p>The builder pattern becomes especially powerful when you start nesting controls into other controls. Using these builder extension functions, you can easily populate and nest multiple <code>HBox</code> instances into a <code>VBox</code>, and create UI code that is clearly structured (Figure 4.1).</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = vbox {
        hbox {
            label(<span class="hljs-string">&quot;First Name&quot;</span>)
            textfield()
        }
        hbox {
            label(<span class="hljs-string">&quot;Last Name&quot;</span>)
            textfield()
        }
        button(<span class="hljs-string">&quot;LOGIN&quot;</span>) {
            useMaxWidth = <span class="hljs-literal">true</span>
        }
    }
}
</code></pre>
<p><strong>Figure 4.1</strong></p>
<p><img src="https://i.imgur.com/wbFHj5u.png" alt=""></p>
<blockquote>
<p>Also note we will learn about TornadoFX&apos;s proprietary <code>Form</code> later, which will make simple input UI&apos;s like this even simpler to build.</p>
</blockquote>
<p>If you need to save references to controls such as the TextFields, you can save them to variables or properties since the functions return the produced controls. Until we learn more robust modeling techniques, it is recommended you use the <code>singleAssign()</code> delegates to ensure the properties are only assigned once.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.control.TextField
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-variable"><span class="hljs-keyword">var</span> firstNameField</span>: TextField by singleAssign()
    <span class="hljs-variable"><span class="hljs-keyword">var</span> lastNameField</span>: TextField by singleAssign()

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = vbox {
        hbox {
            label(<span class="hljs-string">&quot;First Name&quot;</span>)
            firstNameField = textfield()
        }
        hbox {
            label(<span class="hljs-string">&quot;Last Name&quot;</span>)
            lastNameField = textfield()
        }
        button(<span class="hljs-string">&quot;LOGIN&quot;</span>) {
            useMaxWidth = <span class="hljs-literal">true</span>
            action {
                println(<span class="hljs-string">&quot;Logging in as ${firstNameField.text} ${lastNameField.text}&quot;</span>)
            }
        }
    }
}
</code></pre>
<p>Note that non-builder extension functions and properties have been added to different controls as well. The <code>useMaxWidth</code> is an extended property for <code>Node</code>, and it sets the <code>Node</code> to occupy the maximum width allowed. We will see more of these helpful extensions throughout the next few chapters. We will also see each corresponding builder for each JavaFX control. With the concepts understood above, you can read about these next chapters start to finish or as a reference.</p>
<h2 id="builders-for-basic-controls">Builders for Basic Controls</h2>
<p>The rest of this chapter will cover builders for common JavaFX controls like <code>Button</code>, <code>Label</code>, and <code>TextField</code>. The next chapter will cover builders for data-driven controls like <code>ListView</code>, <code>TableView</code>, and <code>TreeTableView</code>.</p>
<h3 id="button">Button</h3>
<p>For any <code>Pane</code>, you can call its <code>button()</code> extension function to add a <code>Button</code> to it. You can optionally pass a <code>text</code> argument and a <code>Button.() -&gt; Unit</code> lambda to modify its properties.</p>
<p>This will add a <code>Button</code> with red text and print &quot;Button pressed!&quot; every time it is clicked (Figure 4.2)</p>
<pre><code class="lang-kotlin">button(<span class="hljs-string">&quot;Press Me&quot;</span>) {
    textFill = Color.RED
    action {
        println(<span class="hljs-string">&quot;Button pressed!&quot;</span>)
    }
}
</code></pre>
<p><strong>Figure 4.2</strong></p>
<p><img src="https://i.imgur.com/jdOLEIU.png" alt=""></p>
<h3 id="label">Label</h3>
<p>You can call the <code>label()</code> extension function to add a <code>Label</code> to a given <code>Pane</code>.
Optionally you can provide a text (of type <code>String</code> or <code>Property&lt;String&gt;</code>), a graphic
(of type<code>Node</code> or <code>ObjectProperty&lt;Node&gt;</code>) and a <code>Label.() -&gt; Unit</code> lambda to modify its properties (Figure 4.3).</p>
<pre><code class="lang-kotlin">label(<span class="hljs-string">&quot;Lorem ipsum&quot;</span>) {
    textFill = Color.BLUE
}
</code></pre>
<p><strong>Figure 4.3</strong></p>
<p><img src="https://i.imgur.com/knGKEGy.png" alt=""></p>
<h3 id="textfield">TextField</h3>
<p>For any target, you can add a <code>TextField</code> by calling its <code>textfield()</code> extension function (Figure 4.4).</p>
<pre><code class="lang-kotlin">textfield()
</code></pre>
<p><strong>Figure 4.4</strong></p>
<p><img src="https://i.imgur.com/yFm42kL.png" alt=""></p>
<p>You can optionally provide initial text as well as a closure to manipulate the <code>TextField</code>.  For example, we can add a listener to its <code>textProperty()</code> and print its value every time it changes (Figure 4.5).</p>
<pre><code class="lang-kotlin">textfield(<span class="hljs-string">&quot;Input something&quot;</span>) {
    textProperty().addListener { obs, old, new -&gt;
        println(<span class="hljs-string">&quot;You typed: &quot;</span> + new)
    }
}
</code></pre>
<p><strong>Figure 4.6</strong></p>
<p><img src="https://i.imgur.com/0wl9dGk.png" alt=""></p>
<h3 id="passwordfield">PasswordField</h3>
<p>If you need a <code>TextField</code> to take sensitive information, you might want to consider a <code>PasswordField</code> instead. It will show anonymous characters to protect from prying eyes. You can also provide an initial password as an argument and a block to manipulate it (Figure 4.7).</p>
<pre><code class="lang-kotlin">passwordfield(<span class="hljs-string">&quot;password123&quot;</span>) {
    requestFocus()
}
</code></pre>
<p><strong>Figure 4.7</strong></p>
<p><img src="https://i.imgur.com/76Pc5ZJ.png" alt=""></p>
<h3 id="checkbox">CheckBox</h3>
<p>You can create a <code>CheckBox</code> to quickly create a true/false state control and  optionally manipulate it with a block (Figure 4.8).</p>
<pre><code class="lang-kotlin">checkbox(<span class="hljs-string">&quot;Admin Mode&quot;</span>) {
    action { println(isSelected) }
}
</code></pre>
<p><strong>Figure 4.9</strong></p>
<p><img src="https://i.imgur.com/w3ASTm8.png" alt=""></p>
<p>Notice that the action block is wrapped inside the checkbox so you can access its <code>isSelected</code> property. If you do not need access to the properties of the <code>CheckBox</code>, you can just express it like this.</p>
<pre><code class="lang-kotlin">checkbox(<span class="hljs-string">&quot;Admin Mode&quot;</span>).action {
  println(<span class="hljs-string">&quot;Checkbox clicked&quot;</span>)
}
</code></pre>
<p>You can also provide a <code>Property&lt;Boolean&gt;</code> that will bind to its selection state.</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> booleanProperty</span> = SimpleBooleanProperty()

checkbox(<span class="hljs-string">&quot;Admin Mode&quot;</span>, booleanProperty) {
    action {
        println(isSelected)
    }
}
</code></pre>
<h3 id="combobox">ComboBox</h3>
<p>A <code>ComboBox</code> is a drop-down control that allows a fixed set of values to be selected from (Figure 4.10).</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> texasCities</span> = FXCollections.observableArrayList(<span class="hljs-string">&quot;Austin&quot;</span>,
    <span class="hljs-string">&quot;Dallas&quot;</span>,<span class="hljs-string">&quot;Midland&quot;</span>, <span class="hljs-string">&quot;San Antonio&quot;</span>,<span class="hljs-string">&quot;Fort Worth&quot;</span>)

combobox<span class="hljs-type">&lt;String&gt;</span> {
    items = texasCities
}
</code></pre>
<p><strong>Figure 4.10</strong></p>
<p><img src="https://i.imgur.com/kDay7az.png" alt=""></p>
<p>You do not need to specify the generic type if you declare the <code>values</code> as an argument.</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> texasCities</span> = FXCollections.observableArrayList(<span class="hljs-string">&quot;Austin&quot;</span>,
        <span class="hljs-string">&quot;Dallas&quot;</span>,<span class="hljs-string">&quot;Midland&quot;</span>,<span class="hljs-string">&quot;San Antonio&quot;</span>,<span class="hljs-string">&quot;Fort Worth&quot;</span>)

combobox(values = texasCities)
</code></pre>
<p>You can also specify a <code>Property&lt;T&gt;</code> to be bound to the selected value.</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> texasCities</span> = FXCollections.observableArrayList(<span class="hljs-string">&quot;Austin&quot;</span>,
        <span class="hljs-string">&quot;Dallas&quot;</span>,<span class="hljs-string">&quot;Midland&quot;</span>,<span class="hljs-string">&quot;San Antonio&quot;</span>,<span class="hljs-string">&quot;Fort Worth&quot;</span>)

<span class="hljs-variable"><span class="hljs-keyword">val</span> selectedCity</span> = SimpleStringProperty()

combobox(selectedCity, texasCities)
</code></pre>
<h3 id="togglebutton">ToggleButton</h3>
<p>A <code>ToggleButton</code> is a button that expresses a true/false state depending on its selection state (Figure 4.11).</p>
<pre><code class="lang-kotlin">togglebutton(<span class="hljs-string">&quot;OFF&quot;</span>) {
    action {
        text = <span class="hljs-keyword">if</span> (isSelected) <span class="hljs-string">&quot;ON&quot;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;OFF&quot;</span>
    }
}
</code></pre>
<p>A more idiomatic way to control the button text would be to use a <code>StringBinding</code> bound to the <code>textProperty:</code></p>
<pre><code class="lang-kotlin">togglebutton {
    <span class="hljs-variable"><span class="hljs-keyword">val</span> stateText</span> = selectedProperty().stringBinding {
        <span class="hljs-keyword">if</span> (it == <span class="hljs-literal">true</span>) <span class="hljs-string">&quot;ON&quot;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;OFF&quot;</span>
    }
    textProperty().bind(stateText)
}
</code></pre>
<p><strong>Figure 4.11</strong></p>
<p><img src="https://i.imgur.com/4wdBEzg.png" alt=""> <img src="https://i.imgur.com/uMrmhnT.png" alt=""></p>
<p>You can optionally pass a <code>ToggleGroup</code> to the <code>togglebutton()</code> function. This will ensure all <code>ToggleButton</code>s in that <code>ToggleGroup</code> can only have one in a selected state at a time (Figure 4.12).</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.control.ToggleGroup
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> toggleGroup</span> = ToggleGroup()

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = hbox {
        togglebutton(<span class="hljs-string">&quot;YES&quot;</span>, toggleGroup)
        togglebutton(<span class="hljs-string">&quot;NO&quot;</span>, toggleGroup)
        togglebutton(<span class="hljs-string">&quot;MAYBE&quot;</span>, toggleGroup)
    }
}
</code></pre>
<p><strong>Figure 4.12</strong></p>
<p><img src="https://i.imgur.com/Z6DsB5b.png" alt=""></p>
<h3 id="radiobutton">RadioButton</h3>
<p>A <code>RadioButton</code> has the same functionality as a <code>ToggleButton</code> but with a different visual style. When it is selected, it &quot;fills&quot; in a circular control (Figure 4.13).</p>
<pre><code class="lang-kotlin">radiobutton(<span class="hljs-string">&quot;Power User Mode&quot;</span>) {
    action {
        println(<span class="hljs-string">&quot;Power User Mode: $isSelected&quot;</span>)
    }
}
</code></pre>
<p><strong>Figure 4.13</strong></p>
<p><img src="https://i.imgur.com/ZMF8mfQ.png" alt=""></p>
<p>Also like the <code>ToggleButton</code>, you can set a <code>RadioButton</code> to be included in a <code>ToggleGroup</code> so that only one item in that group can be selected at a time (Figure 4.14).</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> javafx.scene.control.ToggleGroup
<span class="hljs-keyword">import</span> tornadofx.*

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span> : <span class="hljs-type">View</span></span>() {

    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> toggleGroup</span> = ToggleGroup()

    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = vbox {
        radiobutton(<span class="hljs-string">&quot;Employee&quot;</span>, toggleGroup)
        radiobutton(<span class="hljs-string">&quot;Contractor&quot;</span>, toggleGroup)
        radiobutton(<span class="hljs-string">&quot;Intern&quot;</span>, toggleGroup)
    }
}
</code></pre>
<p><strong>Figure 4.14</strong></p>
<p><img src="https://i.imgur.com/cTPyeXg.png" alt=""></p>
<h3 id="datepicker">DatePicker</h3>
<p>The <code>DatePicker</code> allows you to choose a date from a popout calendar control. You can optionally provide a block to manipulate it (Figure 4.15).</p>
<pre><code class="lang-kotlin">datepicker {
    value = LocalDate.now()
}
</code></pre>
<p><strong>Figure 4.15</strong></p>
<p><img src="https://i.imgur.com/TXGuHPF.png" alt=""></p>
<p>You can also provide a <code>Property&lt;LocalDate&gt;</code> as an argument to bind to its value.</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> dateProperty</span> = SimpleObjectProperty<span class="hljs-type">&lt;LocalDate&gt;</span>()

datepicker(dateProperty) {
    value = LocalDate.now()
}
</code></pre>
<h3 id="textarea">TextArea</h3>
<p>The <code>TextArea</code> allows you input multiline freeform text. You can optionally provide the initial text <code>value</code> as well as a block to manipulate it on declaration (Figure 4.16).</p>
<pre><code class="lang-kotlin">textarea(<span class="hljs-string">&quot;Type memo here&quot;</span>) {
    selectAll()
}
</code></pre>
<p><strong>Figure 4.16</strong></p>
<p><img src="https://i.imgur.com/qTNbBrk.png" alt=""></p>
<h3 id="progressbar">ProgressBar</h3>
<p>A <code>ProgressBar</code> visualizes progress towards completion of a process. You can optionally provide an initial <code>Double</code> value less than or equal to 1.0 indicating percentage of completion (Figure 4.17).</p>
<pre><code class="lang-kotlin">progressbar(<span class="hljs-number">0.5</span>)
</code></pre>
<p><strong>Figure 4.17</strong></p>
<p><img src="https://i.imgur.com/ngBKWs9.png" alt=""></p>
<p>Here is a more dynamic example simulating progress over a short period of time.</p>
<pre><code class="lang-kotlin">progressbar {
    thread {
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.100</span>) {
            Platform.runLater { progress = i.toDouble() / <span class="hljs-number">100.0</span> }
            Thread.sleep(<span class="hljs-number">100</span>)
        }
    }
}
</code></pre>
<p>You can also pass a <code>Property&lt;Double&gt;</code> that will bind the <code>progress</code> to its value as well as a block to manipulate the <code>ProgressBar</code>.</p>
<pre><code class="lang-kotlin">progressbar(completion) {
    progressProperty().addListener {
        obsVal, old, new -&gt;  print(<span class="hljs-string">&quot;VALUE: $new&quot;</span>)
    }
}
</code></pre>
<h3 id="progressindicator">ProgressIndicator</h3>
<p>A <code>ProgressIndicator</code> is functionally identical to a <code>ProgressBar</code> but uses a filling circle instead of a bar (Figure 4.18).</p>
<pre><code class="lang-kotlin">progressindicator {
    thread {
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.100</span>) {
            Platform.runLater { progress = i.toDouble() / <span class="hljs-number">100.0</span> }
            Thread.sleep(<span class="hljs-number">100</span>)
        }
    }
}
</code></pre>
<p><strong>Figure 4.18</strong></p>
<p><img src="https://i.imgur.com/eAGX9KP.png" alt="">  <img src="https://i.imgur.com/6lt70hL.png" alt=""></p>
<p>Just like the <code>ProgressBar</code> you can provide a <code>Property&lt;Double&gt;</code> and/or a block as optional arguments (Figure 4.19).</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> completion</span> = SimpleObjectProperty(<span class="hljs-number">0.0</span>)
progressindicator(completion)
</code></pre>
<h3 id="imageview">ImageView</h3>
<p>You can embed an image using <code>imageview()</code>.</p>
<pre><code class="lang-kotlin">imageview(<span class="hljs-string">&quot;tornado.jpg&quot;</span>)
</code></pre>
<p><strong>Figure 4.19</strong></p>
<p><img src="https://i.imgur.com/Jfp9gCo.png" alt=""></p>
<p>Like most other controls, you can use a block to modify its attributes (Figure 4.20).</p>
<pre><code class="lang-kotlin">imageview(<span class="hljs-string">&quot;tornado.jpg&quot;</span>) {
    scaleX = <span class="hljs-number">.50</span>
    scaleY = <span class="hljs-number">.50</span>
}
</code></pre>
<p><strong>Figure 4.20</strong></p>
<p><img src="https://i.imgur.com/GWlqlVn.png" alt=""></p>
<h3 id="scrollpane">ScrollPane</h3>
<p>You can embed a control inside a <code>ScrollPane</code> to make it scrollable. When the available area becomes smaller than the control, scrollbars will appear to navigate the control&apos;s area.</p>
<p>For instance, you can wrap an <code>ImageView</code> inside a <code>ScrollPane</code> (Figure 4.21).</p>
<pre><code class="lang-kotlin">scrollpane {
    imageview(<span class="hljs-string">&quot;tornado.jpg&quot;</span>)
}
</code></pre>
<p><strong>Figure 4.21</strong></p>
<p><img src="https://i.imgur.com/81roP20.png" alt=""></p>
<p>Keep in mind that many controls like <code>TableView</code> and <code>TreeTableView</code> already have scroll bars on them, so wrapping them in a <code>ScrollPane</code> is not necessary (Figure 4.22).</p>
<h3 id="hyperlink">Hyperlink</h3>
<p>You can create a <code>Hyperlink</code> control to mimic the behavior of a typical hyperlink to a file, a website, or simply perform an action.</p>
<pre><code class="lang-kotlin">hyperlink(<span class="hljs-string">&quot;Open File&quot;</span>).action { println(<span class="hljs-string">&quot;Opening file...&quot;</span>) }
</code></pre>
<p><strong>Figure 4.22</strong></p>
<p><img src="https://i.imgur.com/ZWPxf0N.png" alt=""></p>
<h3 id="text">Text</h3>
<p>You can add a simple piece of <code>Text</code> with formatted properties. This control is simpler and rawer than a <code>Label</code>, and paragraphs can be separated using <code>\n</code> characters (Figure 4.23).</p>
<pre><code class="lang-kotlin">text(<span class="hljs-string">&quot;Veni\nVidi\nVici&quot;</span>) {
    fill = Color.PURPLE
    font = Font(<span class="hljs-number">20.0</span>)
}
</code></pre>
<p><strong>Figure 4.23</strong></p>
<p><img src="https://i.imgur.com/hlABXZe.png" alt=""></p>
<h3 id="textflow">TextFlow</h3>
<p>If you need to concatenate multiple pieces of text with different formats, the <code>TextFlow</code> control can be helpful (Figure 4.24).</p>
<pre><code class="lang-kotlin">textflow {
    text(<span class="hljs-string">&quot;Tornado&quot;</span>) {
        fill = Color.PURPLE
        font = Font(<span class="hljs-number">20.0</span>)
    }
    text(<span class="hljs-string">&quot;FX&quot;</span>) {
        fill = Color.ORANGE
        font = Font(<span class="hljs-number">28.0</span>)
    }
}
</code></pre>
<p><strong>Figure 4.24</strong></p>
<p><img src="https://i.imgur.com/8sgruNJ.png" alt=""></p>
<p>You can add any <code>Node</code> to the <code>textflow</code>, including images, using the standard builder functions.</p>
<h3 id="tooltips">Tooltips</h3>
<p>Inside any <code>Node</code> you can specify a <code>Tooltip</code> via the <code>tooltip()</code> function (Figure 4.25).</p>
<pre><code class="lang-kotlin">button(<span class="hljs-string">&quot;Commit&quot;</span>) {
    tooltip(<span class="hljs-string">&quot;Writes input to the database&quot;</span>)
}
</code></pre>
<p><strong>Figure 4.25</strong></p>
<p><img src="https://i.imgur.com/TfFKrGH.png" alt=""></p>
<p>Like most other builders, you can provide a closure to customize the <code>Tooltip</code> itself.</p>
<pre><code class="lang-kotlin">button(<span class="hljs-string">&quot;Commit&quot;</span>) {
    tooltip(<span class="hljs-string">&quot;Writes input to the database&quot;</span>) {
        font = Font.font(<span class="hljs-string">&quot;Verdana&quot;</span>)
    }
}
</code></pre>
<h2 id="shortcuts-and-key-combinations">Shortcuts and Key Combinations</h2>
<p>You can fire actions when certain key combinations are typed. This is done with the <code>shortcut</code> function:</p>
<pre><code class="lang-kotlin">shortcut(KeyCombination.valueOf(<span class="hljs-string">&quot;Ctrl+Y&quot;</span>)) {
    doSomething()
}
</code></pre>
<p>There is also a string version of the <code>shortcut</code> function that does the same but is less verbose:</p>
<pre><code class="lang-kotlin">shortcut(<span class="hljs-string">&quot;Ctrl+Y&quot;</span>) {
    doSomething()
}
</code></pre>
<p>You can also add shortcuts to button actions directly:</p>
<pre><code class="lang-kotlin">button(<span class="hljs-string">&quot;Save&quot;</span>) {
    action { doSave() }
    shortcut(<span class="hljs-string">&quot;Ctrl+S&quot;</span>)
}
</code></pre>
<h2 id="touch-support">Touch Support</h2>
<p>JavaFX supports touch out of the box, and TornadoFX makes a few improvements especially for shortpress and longpress durations. It consists of two functions similar to <code>action</code>, which can be configured on any <code>Node</code>:</p>
<pre><code class="lang-kotlin">shortpress { println(<span class="hljs-string">&quot;Activated on short press&quot;</span>) }
longpress { println(<span class="hljs-string">&quot;Activated on long press&quot;</span>) }
</code></pre>
<p>Both functions accepts a <code>consume</code> parameter which by default is <code>false</code>. Setting it to true will prevent event bubbling for the press event. The <code>longpress</code> function additionally supports a <code>threshold</code> parameter which is used to determine when a <code>longpress</code> has occurred. It is <code>700.millis</code> by default.</p>
<p><strong>SUMMARY</strong></p>
<p>In this chapter we learned about TornadoFX builders and how they work simply by using Kotlin extension functions. We also covered builders for basic controls like <code>Button</code>, <code>TextField</code> and <code>ImageView</code>. In the coming chapters we will learn about builders for tables, layouts, menus, charts, and other controls. As you will see, combining all these builders together creates a powerful way to express complex UI&apos;s with very structured and minimal code.</p>
<p>There are many other builder controls, and the maintainers of TornadoFX have strived to create a builder for every JavaFX control. If you need something that is not covered here, use Google to see if its included in JavaFX. Chances are if a control is available in JavaFX, there is a builder with the same name in TornadoFX.</p>
<p>These are not the only control builders in the TornadoFX API, and this guide does its best to keep up. Always check the <a href="https://github.com/edvin/tornadofx" target="_blank">TornadoFX</a> GitHub to see the latest builders and functionalities available, and file an issue if you see any missing.</p>
<p>We are not done covering builders yet though. In the next section, we will cover more complex controls in the next few sections. </p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="3. Components.html" class="navigation navigation-prev " aria-label="Previous page: 3. 組件">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="5. Data Controls.html" class="navigation navigation-next " aria-label="Next page: 5. Data Controls">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"4. Basic Controls","level":"1.2.4","depth":2,"next":{"title":"5. Data Controls","level":"1.2.5","depth":2,"path":"part1/5. Data Controls.md","ref":"part1/5. Data Controls.md","articles":[]},"previous":{"title":"3. 組件","level":"1.2.3","depth":2,"path":"part1/3. Components.md","ref":"part1/3. Components.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"part1/4. Basic Controls.md","mtime":"2020-02-13T15:46:37.950Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-02-13T15:47:39.413Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

