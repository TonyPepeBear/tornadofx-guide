
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Internationalization · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Config Settings and State.html" />
    
    
    <link rel="prev" href="Layout Debugger.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../part1/0. Subsection.html">
            
                <a href="../part1/0. Subsection.html">
            
                    
                    第一部分: TornadoFX 基本介紹
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../part1/1. Why TornadoFX.html">
            
                <a href="../part1/1. Why TornadoFX.html">
            
                    
                    1. 為什麼選擇 TornadoFX?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../part1/2. Setting Up.html">
            
                <a href="../part1/2. Setting Up.html">
            
                    
                    2. 配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../part1/3. Components.html">
            
                <a href="../part1/3. Components.html">
            
                    
                    3. 組件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../part1/4. Basic Controls.html">
            
                <a href="../part1/4. Basic Controls.html">
            
                    
                    4. Basic Controls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../part1/5. Data Controls.html">
            
                <a href="../part1/5. Data Controls.html">
            
                    
                    5. Data Controls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../part1/6. CSS.html">
            
                <a href="../part1/6. CSS.html">
            
                    
                    6. Type Safe CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../part1/7. Layouts and Menus.html">
            
                <a href="../part1/7. Layouts and Menus.html">
            
                    
                    7. Layouts and Menus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../part1/8. Charts.html">
            
                <a href="../part1/8. Charts.html">
            
                    
                    8. Charts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../part1/9. Shapes and Animation.html">
            
                <a href="../part1/9. Shapes and Animation.html">
            
                    
                    9. Shapes and Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="../part1/10. FXML.html">
            
                <a href="../part1/10. FXML.html">
            
                    
                    10. FXML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="../part1/11. Editing Models and Validation.html">
            
                <a href="../part1/11. Editing Models and Validation.html">
            
                    
                    11. Editing Models and Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="../part1/12. TornadoFX IDEA Plugin.html">
            
                <a href="../part1/12. TornadoFX IDEA Plugin.html">
            
                    
                    12. TornadoFX IDEA Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="0. Subsection.html">
            
                <a href="0. Subsection.html">
            
                    
                    Part 2: TornadoFX Advanced Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="Property Delegates.html">
            
                <a href="Property Delegates.html">
            
                    
                    Property Delegates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="Advanced Data Controls.html">
            
                <a href="Advanced Data Controls.html">
            
                    
                    Advanced Data Controls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="OSGi.html">
            
                <a href="OSGi.html">
            
                    
                    OSGi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="Scopes.html">
            
                <a href="Scopes.html">
            
                    
                    Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="EventBus.html">
            
                <a href="EventBus.html">
            
                    
                    EventBus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="Workspaces.html">
            
                <a href="Workspaces.html">
            
                    
                    Workspaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="Layout Debugger.html">
            
                <a href="Layout Debugger.html">
            
                    
                    Layout Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.8" data-path="Internationalization.html">
            
                <a href="Internationalization.html">
            
                    
                    Internationalization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="Config Settings and State.html">
            
                <a href="Config Settings and State.html">
            
                    
                    Config Settings and State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="JSON and REST.html">
            
                <a href="JSON and REST.html">
            
                    
                    JSON and REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="Dependency Injection.html">
            
                <a href="Dependency Injection.html">
            
                    
                    Dependency Injection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="Wizard.html">
            
                <a href="Wizard.html">
            
                    
                    Wizard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="Integration.html">
            
                <a href="Integration.html">
            
                    
                    Integrating with other tech
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../part3/0. Subsection.html">
            
                <a href="../part3/0. Subsection.html">
            
                    
                    Part 3: Cook Book
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../part3/Snippets.html">
            
                <a href="../part3/Snippets.html">
            
                    
                    Snippets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Internationalization</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="internationalization">Internationalization</h1>
<p>TornadoFX makes it very easy to support multiple languages in your app.</p>
<h3 id="internationalization-in-components">Internationalization in Components</h3>
<p>Each <code>Component</code> has access to a property called <code>messages</code> of type <code>ResourceBundle</code>. This can be used to look messages in the current locale and assign them to controls programmatically:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span>: <span class="hljs-type">View</span></span>() {
    init {
        <span class="hljs-variable"><span class="hljs-keyword">val</span> helloLabel</span> = Label(messages[<span class="hljs-string">&quot;hello&quot;</span>])
    }
}
</code></pre>
<blockquote>
<p>A label is programmatically configured to get it&apos;s text from a resource bundle</p>
</blockquote>
<p>As well of the shorthand syntax <code>messages[&quot;key&quot;]</code>, all other functions of the <code>ResourceBundle</code> class is available as well.</p>
<p>The bundle is automatically loaded by looking up a base name equal to the fully qualified class name of the <code>Component</code>. For a Component named <code>views.CustomerList</code>, the corresponding resource bundle in <code>/views/CustomerList.properties</code> will be used. All normal variants of the resource bundle name is supported, see <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html" target="_blank">ResourceBundle Javadocs</a> for more information.</p>
<h3 id="internationalization-in-fxml">Internationalization in <code>FXML</code></h3>
<p>When an <code>FXML</code> file is loaded via the <code>fxml</code> delegate function, the corresponding <code>messages</code> property of the component will be used in exactly the same way.</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">HBox</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Label</span> <span class="hljs-attr">text</span>=<span class="hljs-string">&quot;%hello&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">HBox</span>&gt;</span>
</code></pre>
<blockquote>
<p>The message with key <code>hello</code> will be injected into the label.</p>
</blockquote>
<h3 id="default-global-messages">Default Global Messages</h3>
<p>You can add a global set of messages with the base name <code>Messages</code> (for example <code>Messages_en.properties</code>) at the root of the class path.</p>
<h3 id="automatic-lookup-in-parent-bundle">Automatic lookup in parent bundle</h3>
<p>When a key is not found in the component bundle, or when there is no bundle for the currrent component, the global resource bundle is consulted. As such, you might use the global bundle for all resources, and place overrides in the per component bundle.</p>
<h3 id="friendly-error-messages">Friendly error messages</h3>
<p>In stead of throwing an exception when a key is not available in your bundle, the value will simply be <code>[key]</code>. This makes it easy to spot your errors, and your UI is still fully functional while you add the missing keys.</p>
<h3 id="configuring-the-locale">Configuring the locale</h3>
<p>The default locale is the one retrieved from <code>Locale.getDefault()</code>. You can configure a different locale by issuing:</p>
<pre><code class="lang-kotlin">FX.locale = Locale(<span class="hljs-string">&quot;my-locale&quot;</span>)
</code></pre>
<p>The global bundle will automatically be changed to the bundle corresponding to the new locale, and all subsequently loaded components will get their bundle in the new locale as well.</p>
<h3 id="overriding-resource-bundles">Overriding resource bundles</h3>
<p>If you want to change the bundle for a component after it&apos;s been initialized, or if you simply want to load a spesific bundle without relying on the conventions, simply assign the new bundle to the <code>messages</code> property of the component.</p>
<p>If you want to use the overriden resource bundle to load <code>FXML</code>, make sure you change the bundle before you load the root view:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyView</span>: <span class="hljs-type">View</span></span>() {
    init { messages = ResourceBundle.getBundle(<span class="hljs-string">&quot;MyCustomBundle&quot;</span>) }
    <span class="hljs-keyword">override</span> <span class="hljs-variable"><span class="hljs-keyword">val</span> root</span> = HBox by fxml()
}
</code></pre>
<blockquote>
<p>A manually overriden resource bundle is used by the <code>FXML</code> file corresponding to the View</p>
</blockquote>
<p>The same technique can be used to override the global bundle by assigning to <code>FX.messages</code>.</p>
<h3 id="startup-locale">Startup locale</h3>
<p>You can override the default locale as early as the <code>App</code> class <code>init</code> function by assigning to <code>FX.locale</code>.</p>
<h3 id="controllers-and-fragments-as-well">Controllers and Fragments as well</h3>
<p>The same conventions are valid for <code>Controllers</code> and <code>Fragments</code>, since the functionality is made available to their common super class, <code>Component</code>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Layout Debugger.html" class="navigation navigation-prev " aria-label="Previous page: Layout Debugger">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Config Settings and State.html" class="navigation navigation-next " aria-label="Next page: Config Settings and State">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Internationalization","level":"1.3.8","depth":2,"next":{"title":"Config Settings and State","level":"1.3.9","depth":2,"path":"part2/Config Settings and State.md","ref":"part2/Config Settings and State.md","articles":[]},"previous":{"title":"Layout Debugger","level":"1.3.7","depth":2,"path":"part2/Layout Debugger.md","ref":"part2/Layout Debugger.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"part2/Internationalization.md","mtime":"2020-02-13T15:46:37.954Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-02-13T15:47:39.413Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

